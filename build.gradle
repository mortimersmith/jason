
apply plugin: "java"
apply plugin: "groovy"
apply plugin: "maven"

group = "com.github.mortimersmith"
version = "0.0.6"

sourceCompatibility = "1.8"

if (!hasProperty("mainClass"))
    ext.mainClass = "com.github.mortimersmith.jason.Compiler"

repositories {
    mavenLocal()
    mavenCentral()
}

compileJava {
    options.compilerArgs << "-Xlint:all" << "-Xlint:-serial"
}

test {
    testLogging {
        exceptionFormat = "full"
    }
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: "file://${System.getProperty("user.home")}/.m2/repository")
        }
    }
}

dependencies {
    compile gradleApi()
    compile localGroovy()
    compile "com.github.mortimersmith:utils:0.0.1"
    compile "com.google.code.gson:gson:2.3.1"
    compile "org.msgpack:msgpack:0.6.12"
    compile "com.squareup:javapoet:1.5.1"
}
